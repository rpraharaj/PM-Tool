<!--
IT Project Milestone Management Tool
===================================
How to Run:
- Simply open this file (index.html) in any modern browser (Chrome, Firefox, Edge).
- Alternatively, serve via a local static server (e.g., `python3 -m http.server`) and navigate to http://localhost:8000
- All data is stored in your browser's Local Storage.
- No backend required.

Libraries Used:
- Bootstrap 5 (CSS Framework) - https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css
- vis.js Timeline (Interactive Timeline) - https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.0/vis-timeline-graph2d.min.js
- Frappe Gantt (Gantt Chart) - https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.0/dist/frappe-gantt.min.js
- Dragula (Kanban Drag & Drop) - https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.3/dragula.min.js
- FullCalendar (Calendar View) - https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.8/index.global.min.js
- SheetJS (Import CSV/Excel) - https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js
- jsPDF (Export PDF) - https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js

Browser Compatibility:
- Latest versions of Chrome, Firefox, Edge recommended.
- Safari supported but may have minor quirks.
-->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>IT Project Milestone Management Tool</title>

<!-- Bootstrap CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet"/>

<!-- Bootstrap Icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" rel="stylesheet"/>

<!-- vis.js Timeline CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.0/vis-timeline-graph2d.min.css" rel="stylesheet"/>

<!-- Frappe Gantt CSS -->
<link href="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.0/dist/frappe-gantt.css" rel="stylesheet"/>

<!-- Dragula CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.3/dragula.min.css" rel="stylesheet"/>

<!-- FullCalendar CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.8/index.global.min.css" rel="stylesheet"/>

<style>
/* Base layout */
body {
  overflow-x: hidden;
  font-family: 'Segoe UI', Tahoma, sans-serif;
  background-color: #f4f6f9;
}

/* Sidebar */
#sidebar {
  min-height: 100vh;
  background: linear-gradient(180deg, #343a40, #212529);
  color: #fff;
  padding-top: 1rem;
}
#sidebar h4 {
  color: #fff;
}
#sidebar .nav-link {
  color: #ccc;
  border-radius: 4px;
  margin-bottom: 5px;
  transition: background 0.3s, color 0.3s;
}
#sidebar .nav-link:hover,
#sidebar .nav-link.active {
  background-color: #495057;
  color: #fff;
}

/* Main content */
#main-content {
  padding: 1.5rem;
}

/* Header */
h1.mb-4 {
  font-weight: 600;
  color: #333;
}

/* Milestone action buttons */
#milestone-actions button {
  margin-right: 0.5rem;
}

/* Tabs */
.nav-tabs .nav-link {
  border: none;
  color: #555;
  font-weight: 500;
}
.nav-tabs .nav-link.active {
  background-color: #0d6efd;
  color: #fff;
  border-radius: 4px;
}

/* Content panels */
.tab-content > .tab-pane {
  background: #fff;
  border-radius: 8px;
  padding: 1rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* Kanban Board */
#kanban-columns {
  display: flex;
  width: 100%;
  gap: 10px;
}

.kanban-column {
  flex: 1;
  min-height: 400px;
  border-radius: 8px;
  padding: 0.5rem;
  background-color: #e9ecef;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
  transition: background 0.3s;
  overflow-y: auto;
}
.kanban-column h5 {
  font-weight: 600;
  margin-bottom: 0.5rem;
}
.kanban-item {
  background-color: #fff;
  border: 1px solid #ddd;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  border-radius: 6px;
  cursor: grab;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s, box-shadow 0.2s;
}
.kanban-item:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.task-card {
  border-left: 4px solid #28a745; /* Green border for tasks */
}
.milestone-card {
  border-left: 4px solid #0d6efd; /* Blue border for milestones */
}

/* Milestone flags in vis.js timeline */
.vis-item.milestone-flag {
  background-color: #0d6efd;
  border-color: #0d6efd;
  color: #fff;
  font-weight: bold;
  border-radius: 4px;
  padding: 2px 6px;
}

/* Milestone bars in Gantt */
.milestone-bar {
  fill: #0d6efd !important;
  stroke: #0d6efd !important;
}

/* Modals */
.modal-content {
  border-radius: 8px;
}
.modal-header {
  border-bottom: 1px solid #dee2e6;
}
.modal-footer {
  border-top: 1px solid #dee2e6;
}

/* Forms */
.form-control:focus, .form-select:focus {
  border-color: #0d6efd;
  box-shadow: 0 0 0 0.2rem rgba(13,110,253,.25);
}

/* Buttons */
.btn {
  border-radius: 4px;
  transition: background-color 0.3s, box-shadow 0.3s;
}
.btn:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* Calendar & Timeline containers */
#calendar-container, #timeline-container, #gantt-container {
  min-height: 400px;
}

#timeline-container {
  overflow-x: auto;
  width: 100%;
  min-width: 800px; /* Ensures horizontal scroll if content exceeds */
}

/* Responsive tweaks */
@media (max-width: 768px) {
  #sidebar {
    min-height: auto;
  }
  .kanban-column {
    margin-bottom: 1rem;
  }
}
</style>
</head>

<body>
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav id="sidebar" class="col-md-2 d-none d-md-block sidebar">
      <h4 class="text-center">Projects</h4>
      <ul id="project-list" class="nav flex-column px-2">
        <!-- Project items injected here -->
      </ul>
      <div class="px-2 mt-3">
        <button class="btn btn-primary w-100 mb-2" id="add-project-btn"><i class="bi bi-plus"></i> Add Project</button>
        <button class="btn btn-danger w-100" id="reset-data-btn"><i class="bi bi-trash"></i> Reset Data</button>
      </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content" class="col-md-10 ms-sm-auto col-lg-10">
      <h1 class="mb-4">IT Project Milestone Management</h1>

      <div id="milestone-actions" class="mb-3">
        <button class="btn btn-success" id="add-milestone-btn"><i class="bi bi-plus"></i> Add Milestone</button>
        <button class="btn btn-primary" id="add-task-btn"><i class="bi bi-plus-square"></i> Add Task</button>
      </div>

<!-- Milestone Modal -->
<div class="modal fade" id="milestoneModal" tabindex="-1" aria-labelledby="milestoneModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" id="milestone-form">
      <div class="modal-header">
        <h5 class="modal-title" id="milestoneModalLabel">Add/Edit Milestone</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="milestone-title" class="form-label">Title *</label>
          <input type="text" class="form-control" id="milestone-title" required />
        </div>
        <div class="mb-3">
          <label for="milestone-description" class="form-label">Description</label>
          <textarea class="form-control" id="milestone-description"></textarea>
        </div>
        <div class="mb-3">
          <label for="milestone-due" class="form-label">Due Date</label>
          <input type="date" class="form-control" id="milestone-due" />
        </div>
        <div class="mb-3">
          <label for="milestone-status" class="form-label">Status</label>
          <select class="form-select" id="milestone-status">
            <option>Not Started</option>
            <option>In Progress</option>
            <option>Completed</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="milestone-priority" class="form-label">Priority/Color</label>
          <input type="color" class="form-control form-control-color" id="milestone-priority" value="#007bff" title="Choose color">
        </div>
        <input type="hidden" id="milestone-id" />
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Save Milestone</button>
        <button type="button" class="btn btn-danger" id="delete-milestone-btn" style="display:none;">Delete</button>
      </div>
    </form>
  </div>
</div>

      <!-- Navigation Tabs -->
      <ul class="nav nav-tabs mb-3" id="view-tabs">
        <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#timeline-view">Timeline</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#gantt-view">Gantt Chart</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#kanban-view">Kanban Board</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#calendar-view">Calendar</a></li>
        <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#import-export-view">Import/Export</a></li>
      </ul>

      <div class="tab-content">
        <div class="tab-pane fade show active" id="timeline-view">
          <div class="mb-3">
            <label>Timeline Range:</label>
            <div class="d-flex flex-wrap gap-2">
              <input type="date" id="timeline-start-date" class="form-control" style="max-width:200px;">
              <input type="date" id="timeline-end-date" class="form-control" style="max-width:200px;">
              <button class="btn btn-primary" id="set-timeline-range-btn">Set Range</button>
              <button class="btn btn-secondary" id="reset-timeline-range-btn">Reset</button>
            </div>
          </div>
          <div id="timeline-container"></div>
        </div>
        <div class="tab-pane fade" id="gantt-view">
          <div class="mb-3">
            <label for="gantt-view-mode">Gantt View Mode:</label>
            <div class="d-flex flex-wrap gap-2 align-items-center">
              <select id="gantt-view-mode" class="form-select" style="max-width:200px;">
                <option value="Day">Daily</option>
                <option value="Week">Weekly</option>
                <option value="Month">Monthly</option>
                <option value="Quarter">Quarterly</option>
                <option value="Year">Yearly</option>
              </select>
              <button class="btn btn-outline-primary btn-sm" id="gantt-zoom-in-btn">Zoom In</button>
              <button class="btn btn-outline-primary btn-sm" id="gantt-zoom-out-btn">Zoom Out</button>
            </div>
          </div>
          <div id="gantt-container"></div>
        </div>
        <div class="tab-pane fade" id="kanban-view">
          <div class="d-flex" id="kanban-columns">
            <div class="kanban-column" data-status="Backlog"><h5>Backlog</h5></div>
            <div class="kanban-column" data-status="In Progress"><h5>In Progress</h5></div>
            <div class="kanban-column" data-status="Completed"><h5>Completed</h5></div>
          </div>
        </div>
        <div class="tab-pane fade" id="calendar-view">
          <div id="calendar-container"></div>
        </div>
        <div class="tab-pane fade" id="import-export-view">
          <h4>Import Data</h4>
          <input type="file" id="import-file-input" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" />
          <button class="btn btn-primary mt-2" id="import-btn"><i class="bi bi-upload"></i> Import</button>
          <h4 class="mt-4">Export Data</h4>
          <button class="btn btn-secondary" id="export-csv-btn"><i class="bi bi-download"></i> Export CSV</button>
          <button class="btn btn-secondary" id="export-pdf-btn"><i class="bi bi-file-earmark-pdf"></i> Export PDF</button>
          <button class="btn btn-secondary mt-2" id="export-json-btn"><i class="bi bi-filetype-json"></i> Export JSON</button>

          <h4 class="mt-4">Import JSON</h4>
          <input type="file" id="import-json-input" accept=".json,application/json" />
          <button class="btn btn-primary mt-2" id="import-json-btn"><i class="bi bi-upload"></i> Import JSON</button>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- Project Creation Modal -->
<div class="modal fade" id="projectModal" tabindex="-1" aria-labelledby="projectModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" id="project-form">
      <div class="modal-header">
        <h5 class="modal-title" id="projectModalLabel">Create New Project</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="project-name" class="form-label">Project Name *</label>
          <input type="text" class="form-control" id="project-name" required />
        </div>
        <div class="mb-3">
          <label for="project-description" class="form-label">Description</label>
          <textarea class="form-control" id="project-description"></textarea>
        </div>
        <div class="mb-3">
          <label for="project-team" class="form-label">Team Members (comma separated)</label>
          <input type="text" class="form-control" id="project-team" />
        </div>
        <div class="mb-3">
          <label for="project-start" class="form-label">Start Date</label>
          <input type="date" class="form-control" id="project-start" />
        </div>
        <div class="mb-3">
          <label for="project-end" class="form-label">End Date</label>
          <input type="date" class="form-control" id="project-end" />
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Save Project</button>
      </div>
    </form>
  </div>
</div>


<!-- Task Modal -->
<div class="modal fade" id="taskModal" tabindex="-1" aria-labelledby="taskModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" id="task-form">
      <div class="modal-header">
        <h5 class="modal-title" id="taskModalLabel">Add/Edit Task</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="task-title" class="form-label">Title *</label>
          <input type="text" class="form-control" id="task-title" required />
        </div>
        <div class="mb-3">
          <label for="task-description" class="form-label">Description</label>
          <textarea class="form-control" id="task-description"></textarea>
        </div>
        <div class="mb-3">
          <label for="task-start" class="form-label">Start Date *</label>
          <input type="date" class="form-control" id="task-start" required />
        </div>
        <div class="mb-3">
          <label for="task-end" class="form-label">End Date *</label>
          <input type="date" class="form-control" id="task-end" required />
        </div>
        <div class="mb-3">
          <label for="task-status" class="form-label">Status</label>
          <select class="form-select" id="task-status">
            <option>Not Started</option>
            <option>In Progress</option>
            <option>Completed</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="task-priority" class="form-label">Priority/Color</label>
          <input type="color" class="form-control form-control-color" id="task-priority" value="#28a745" title="Choose color">
        </div>
        <input type="hidden" id="task-id" />
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Save Task</button>
        <button type="button" class="btn btn-danger" id="delete-task-btn" style="display:none;">Delete</button>
      </div>
    </form>
  </div>
</div>

<!-- Bootstrap Bundle JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

<!-- vis.js Timeline -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/vis-timeline/7.7.0/vis-timeline-graph2d.min.js"></script>

<!-- Frappe Gantt -->
<script src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.0/dist/frappe-gantt.min.js"></script>

<!-- Dragula -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.3/dragula.min.js"></script>

<!-- FullCalendar -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.8/index.global.min.js"></script>

<!-- SheetJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Our App Scripts (to be created next) -->
<script src="app.js"></script>

</body>
</html>
